function initSelectTwoConfig(){$.fn.select2.defaults.set("theme","bootstrap4");$.fn.select2.defaults.set("dropdownParent",$(".card-body").first());$.fn.select2.defaults.set("width","100%");$.fn.select2.defaults.set("allowClear",!0);$("#InputType").select2({placeholder:"Select input type",data:[{id:"1",text:"Text"},{id:"2",text:"Checkbox"},{id:"3",text:"date"},{id:"4",text:"file"},{id:"5",text:"radio"},{id:"6",text:"Select"}]})}var url_path=window.location.pathname,inputTypeId,allCustomFields;url_path.charAt(url_path.length-1)=="/"&&(url_path=url_path.slice(0,url_path.length-1)),function($){function addFieldset(options){var testVariable,siblings,fieldsetEls,fieldsetElsLen,clone,db,count,i,newClone;if(inputTypeId==5&&(options.numTimes=1,options.maxFields=!0),testVariable=$("#fieldsetracker").prevAll(),console.log(testVariable),siblings=[],jQuery.each($("#fieldsetracker").prevAll(),function(){if(this.tagName=="FIELDSET")siblings.unshift($(this));else return siblings}),fieldsetEls=siblings,fieldsetElsLen=fieldsetEls.length,!options.maxFields||fieldsetElsLen+options.numTimes<=options.maxFields)for(clone=fieldsetEls[0].clone(),db=getDeleteButtonObj(options),db.click(function(){var parent=$(this).parent("fieldset");return parent.fadeOut(options.fadeDuration,function(){$(this).remove()}),!1}),db.appendTo(clone),clone.find(":input").each(function(){var type=this.type,tag=this.tagName.toLowerCase();type=="text"||type=="password"||tag=="textarea"?this.value="":type=="checkbox"||type=="radio"?this.checked=!1:tag=="select"&&(this.selectedIndex=-1)}),count=1,jQuery.each(fieldsetEls,function(){this.find(":input").each(function(){renameField(this,"id",count);renameField(this,"name",count)});count++}),i=count;i<options.numTimes+count;i++)newClone=clone.clone(!0),newClone.find(":input").each(function(){renameField(this,"id",i);renameField(this,"name",i)}),newClone.insertBefore("#fieldsetracker");else alert(options.maxFieldsMsg)}function renameField(obj,attr,num){var a=$(obj).attr(attr).split(/_[0-9]*$/i)[0];$(obj).attr(attr,a+"_"+num)}function getDeleteButtonObj(options){var html='<div class="'+options.deleteButtonDiv+'"><input type="button"value="'+options.deleteButtonValue+'" class="'+options.deleteButtonClass+'" id="delete" name="delete" /><\/div>';return $(html)}$.fn.dynamicForm=function(options){var opts=$.extend({},$.fn.dynamicForm.defaults,options);return this.each(function(){$this=$(this);var o=$.meta?$.extend({},opts,$this.data()):opts;$(this).click(function(){addFieldset(o,$(this))})})};$.fn.dynamicForm.defaults={numTimes:1,maxFields:!1,maxFieldsMsg:"You have reached the maximum number of fields allowed",fadeDuration:"slow",deleteButtonDiv:"form-group",deleteButtonClass:"btn btn-danger btn-next btn-wd",deleteButtonValue:"Delete This Option Field"}}(jQuery);$(document).ready(function(){initSelectTwoConfig();$("#addButton1").dynamicForm({deleteButtonDiv:"form-group",deleteButtonClass:"btn btn-danger btn-next btn-wd",deleteButtonValue:"Delete This Option Field",maxFields:!1,numTimes:1,fadeDuration:"slow"})});$("#InputType").on("select2:select",function(e){var inputid,value;inputid=e.params.data.id;console.log(inputid);inputTypeId=inputid;$("#custom-input").find("[name=extrainput]").val("");value=$("fieldset").nextAll("#form-group").length;$("fieldset").nextAll("#form-group").remove();inputid==2?($("#selectinputconfigure").show(),$("#selectinputconfigureaddbutton").show()):inputid==5?($("#selectinputconfigure").show(),$("#selectinputconfigureaddbutton").show()):inputid==6?($("#selectinputconfigure").show(),$("#selectinputconfigureaddbutton").show()):($("#selectinputconfigure").hide(),$("#selectinputconfigureaddbutton").hide())});$("#submit").click(function(event){var form,frmInputValue;event.preventDefault();form=$("#custom-input");console.log(form);frmInputValue=$(form).serializeArray();console.log(frmInputValue);swal({title:"Are you sure?",text:"Custom Field Will be added",type:"warning",showCancelButton:!0,confirmButtonColor:"#34D027",confirmButtonText:"Yes, continue",cancelButtonText:"No, stop!",cancelButtonColor:"#ff9800",showLoaderOnConfirm:!0,preConfirm:function(){return new Promise(function(resolve){setTimeout(function(){resolve()},1e3)})}}).then(function(isConfirm){isConfirm&&$.ajax({url:"../Setup/AddCustomField",type:"POST",data:JSON.stringify(frmInputValue),dataType:"json",contentType:"application/json; charset=utf-8",success:function(result){result.toString!==""&&result!==null?(swal({title:"Customer Custom Field",text:"Custom Field Type added successfully!",type:"success"}).then(function(){}),$("fieldset").nextAll("#form-group").remove(),$("#selectinputconfigure").hide(),$("#selectinputconfigureaddbutton").hide(),$("#custom-input")[0].reset(),$("#InputType").val("").trigger("change")):(swal({title:"Customer Custom Field",text:"Something went wrong: <\/br>"+result.toString(),type:"error"}).then(function(){}),$("#submit").removeAttr("disabled"))},error:function(){swal({title:"Customer Custom Field",text:"Customer Custom Field encountered an error",type:"error"}).then(function(){})}})},function(){swal({title:"Cancel Customer Custom Field",text:"Customer Custom Field Addition was Cancelled!",type:"error"});return})});